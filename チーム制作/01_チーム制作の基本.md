## ゲーム制作講座

# コード共有

何かしらの方法でコードを開発者間で共有する必要がある。  
この講座ではGitHubを用いる。  

# コードの独立性

複数人でプログラムを書くにはそれぞれの作業ができるだけほかの人に影響を与えないように考慮する必要がある。  
Gitの特性上、ファイル単位の分業が望ましい。  

# インターフェースを決める

チーム制作のあいことばは「**インターフェースを決める**」である。  

分業する部分間はほとんどの場合使う、使われるの関係にある。  
使われる側のコードは使わなければないのと一緒だ。  
そのコードを使うためには、使う上で必要十分な情報を伝え合う必要がある。  
この必要十分な情報を含むものがインターフェースである。  
使う側か使われる側の人間のどちらかがこのインターフェースを決め、共有する必要がある。  

C++におけるインターフェースは、関数で言えば引数と返り値、クラスで言えばpublicメンバのことであると思っておけばだいたい大丈夫だ。  
インターフェースの共有はヘッダーファイルを通じて行う。  

# タスクの列挙

開発の始めに、何を実装するべきかを列挙する必要がある。  
もちろんこれは後から追加されうるが、このときにできるだけ多くのことを列挙しておきたい。  
後にこれをもとに各部分の担当を決めるので、できるだけ独立性が保てるような要素であることが望ましい。  
また、大きな処理のかたまりで分けられるときにはグループを作ってしまうのもいいだろう。  

GitHubのProjectが活用できる。  

今回はC++で開発するため、名前空間やクラス名もついでに決めてしまうといいだろう。  

# 各タスクの重さを決める

各タスクの重さを数字で大まかに決める。  
開発者の中でも実装力や確保できる時間に個人差が生じるため、タスクの担当を決める材料になる。  

# 各タスクの担当を決める

ここまでの材料をもとにタスクの担当を決める。  
すべてのタスクを決めてしまってもいいが、ほかのタスクの進行度に依存するようなタスクなどは残しておいて、手があいた人が担当したほうがよかったりもする。  

# 処理の大まかな流れを共有

処理の根本になる部分の流れを、関係するタスクの担当で共有する。  
これは、各々がより良いインターフェースを決定するのに助けになる。  
プロジェクトの種類によっては必要ない場合もある。  

シューティングゲームのゲームシーンを例に挙げる。  
* 自機の移動
* 敵機の移動
* 自機の弾の移動
* 敵機の弾の移動
* 敵機と自機の弾の当たり判定
* 自機と敵機の弾の当たり判定
* 遷移判定
* 各々の描画

これを行うことで自機クラスに最低限必要なものは  

* 移動する関数
* 弾の発射に必要な情報を渡す関数
* 敵機の弾情報を受け取って当たり判定を行う関数
* 遷移判定に必要な情報を渡す関数
* 描画する関数

であることがわかる。  

# コーディング

ここまでで前準備は終了した。  
各々がコーディング作業を開始する。  
詳細は後の回に説明する。  

# 新しいタスク

プロジェクトを進めているとそのうち新しいタスクが発生する。  
新しいタスクは、まだ誰も担当していないタスクと一緒にまとめておくといいだろう。  
手があいた人がそのタスクを担当することになる。  

GitHubのProjectを使う場合は`not started`コラムでも作って置くといいだろう。  