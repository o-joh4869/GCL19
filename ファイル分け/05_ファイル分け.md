## ゲーム制作講座

変数や関数などのファイル分けの一例を紹介する。  

# 名前の変更

VisualStudioの機能に同じ識別子をプロジェクト全体で一括して変更することができるものがある。  
やり方はある識別子にカーソルを合わせ、Ctrlを押しながらRキーを二回おす。  

こうすることで名前の変更はできるので、ファイル分けの際に名前をそろえるためだけにヘッダーファイルを使用しないこととする。  

# グローバル変数

グローバル変数は、MyGlobal.cppを作成して定義を行い、使うファイルで適宜宣言することとする。  

```cpp
/* MyGlobal.cpp */

int a = 0;
```

```cpp
/* Main.cpp */
#include<iostream>

extern int a;

int main() {
    std::cout << a << std::endl;
}
```

const変数はで暗黙に内部リンケージを持つため、定義するときに明示的に外部リンケージを持たせる。  

```cpp
/* MyGlobal.cpp */

extern const int gWindowHight = 480;
```

```cpp
/* Main.cpp */
#include<iostream>

extern const int gWindowHight;

int main() {
    std::cout << gWindowHight << std::endl;
}
```

# 関数

関数は引数や返り値など、名前以外の安易に変わりうる要素を持つのでヘッダーファイルを用意する。  
内容の変更が起こりにくいものはインライン関数として定義する。  

```cpp
/* f.hpp */

inline int f() {
    return 0;
}

void g();
```

```cpp
/* f.cpp */
#include<iosrteam>
#include"f.hpp"
void g() {
    std::cout << "g" << std::endl;
}
```

```cpp
/* Main.cpp */
#include<iostream>
#include"f.hpp"

int main() {
    std::cout << f() << std::endl;

    g();
}
```

# クラス

クラスの定義は複数のファイルで一致している必要があるのでヘッダーファイルを用意する。  
メンバ関数は関数と同様である。  

```cpp
/* Hoge.hpp */

class Hoge {
public:
    void f();

private:
    int a;

public:
    int get() {
        return a;
    }
};
```

```cpp
/* Hoge.cpp */
#include"Hoge.hpp"
#include<iostream>

void Hoge::f() {
    std::cout << "Hoge::f" << std::end;
}
```

```cpp
/* Main.cpp */
#include<iostream>
#include"Hoge.hpp"

int main() {
    Hoge hoge;

    hoge.f();

    std::cout << hoge.get() << std::endl;

    return 0;
}
```