## ゲーム制作講座
***
固定長配列は今まで
```cpp
int arr[10];
```
のようにCスタイルで定義してきた。  
これを他のコンテナ(vectorやlistなど)と同じようにイテレータや演算子が定義されていてC++的に扱いやすくしたものがstd::arrayである。  

# std::array

std::arrayを使うにはarrayをインクルードする必要がある。
```cpp
#include<array>
```
書き方は
```cpp
std::array<int, 3> arr;
```
である。  

intの場所にクラスなどを入れて要素の型を指定しそのあとに要素数を入れる。  
初期化の方法は組み込み配列と同様である。  

# 使い方

組み込み配列と同様に[]演算子を使って
```cpp
arr[2];
```
のようにしてアクセスすることが可能だ。

しかし[]演算子には境界チェックがついておらず、範囲外アクセスをしたとき即座にプログラムが停止してしまう。  
プログラムを停止させずにtry catchを使って例外処理をしたいときは、やや面倒ではあるがメンバ関数atを利用するといいだろう。  
```cpp
try {
    arr.at(2); //arr[2]とほぼ同じだが、範囲外アクセスでout_of_rangeをスローする
}
catch (std::out_of_range &e) {
    //例外処理
}
```

# operator==

個人的に一番ありがたい機能はoperator==である。  
配列の中身がすべて一致しているかどうかを判断してくれる演算子である。  
```cpp
std::array<int, 3> a, aa;
if(a == aa) {
    //aとaaの中身がすべて一致していた場合
}
```

Cスタイルの配列だと
```cpp
int a[3];
int aa[3];
if(std::equal(std::begin(a), std::end(a), std::begin(aa))) {
    
}
```
とする必要があった。  

# 練習問題

int型のサイズ3の固定長配列を定義せよ。  