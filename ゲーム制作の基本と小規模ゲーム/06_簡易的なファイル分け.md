## ゲーム制作講座
***

グローバル変数、関数、クラスのファイル分けについて方法だけ紹介しておく。  
大規模化の方で詳しく説明している。  

# ヘッダーファイルとcppファイル

ファイル分けするには拡張子.hのヘッダーファイルと拡張子.cppのcppファイルの二種類を使う。  
基本的には、関数やクラスなどが書かれたヘッダーファイルを使う場面になったらそのファイルの最初でインクルードすることでそのファイルでも利用できるようになる。  
```cpp
// 関数fが書かれたf.hがあったとする
/* g.cpp */
#pragma once
#include"f.h"

void g() {
    f(); //fが使える
}
```
g.cppはcppファイルだが、ヘッダーファイルでも同様にインクルードできる。  
ヘッダーファイルの方には頭に#pragma onceと書いてあるが、VisualStudioから作成した場合は既に書かれているので気にしなくていい。  

# グローバル変数

グローバル変数をファイル分けする。  

あるint型の変数gHogeをグローバル変数としてMyGrobal.hとMyGrobal.cppに書く。  
ヘッダーファイルの方にはexternを頭につけてint gHogeと書き、cppファイルの方では普通にgHogeと書く。  

```cpp
/* MyGrobal.h */
#pragma once
extern int gHoge;
```

```cpp
/* MyGrobal.cpp */
int gHoge;
```

# 関数

関数をファイル分けする。  

あるvoid()型の関数fがあったとする。  
これをMyGrobalに書いていく

```cpp
/* MyGrobal.h */
#pragma once

void f();
```

```cpp
/* MyGrobal.cpp */
#pragma once

void f() {
    //具体的な処理
}

```

# クラス

以下のようなクラスをMyGrobalにファイル分けする。  

```cpp
class Hoge {
public:
    Hoge() : 
        a(0)
    {
        b++;
    }
    int a;
    static int b;
    void f() {
        // 具体的な処理
    }
}
int Hoge::b;
```

```cpp
/* MyGrobal.h */
#pragma once

class Hoge {
public:
    Hoge();
    int a;
    static int b;
    void f();
};
```

```cpp
/* MyGrobal.cpp */
#pragma once
#include"MyGrobal.h"

Hoge::Hoge() : 
    a(0)
{
    b++;
}

int Hoge::b;

void Hoge::f() {
    //具体的な処理
}
```

# まとめ

ファイル分けの方法だけを紹介した。  
サンプルコードでこれまでのことを雑にファイル分けしているので少し目を通してみてもいいかもしれない。  
最初にも言ったが、大規模化の方で詳しく紹介している。  
さらに、サンプルコードにも若干の修正が入るのでこれが完全な方法ではないことに注意しておいてもらいたい。  